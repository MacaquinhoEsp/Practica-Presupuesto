<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Gestor de Presupuesto Personal</title>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/componente-gasto.css">
</head>
<body>
    <div class="container">
        <h1>ðŸ’° Gestor de Presupuesto Personal v2</h1>

        <!-- SecciÃ³n de Presupuesto -->
        <div class="section presupuesto-section">
            <h2>ðŸ“Š GestiÃ³n de Presupuesto</h2>
            <div>
                <label>Actualizar Presupuesto:</label>
                <input type="number" id="nuevoPresupuesto" placeholder="Ej: 1000" min="0" />
                <button onclick="actualizarPresupuestoUI()">Actualizar Presupuesto</button>
            </div>
            <div>
                <button onclick="mostrarPresupuestoUI()">Mostrar Presupuesto Actual</button>
            </div>
            <div class="resultado" id="resultadoPresupuesto"></div>
        </div>

        <!-- SecciÃ³n de Gastos -->
        <div class="section gastos-section">
            <h2>ðŸ’¸ GestiÃ³n de Gastos</h2>

            <!-- Formulario para crear gastos -->
            <form id="formCrearGasto" class="form-crear-gasto">
                <input type="text" id="descripcionGasto" placeholder="DescripciÃ³n del gasto" required />
                <input type="number" id="valorGasto" placeholder="Valor (â‚¬)" min="0" step="0.01" required />
                <input type="date" id="fechaGasto" class="full-width" />
                <input type="text" id="etiquetasGasto" placeholder="Etiquetas (separadas por comas)" class="full-width" />
                <button type="submit" class="full-width">Crear Gasto</button>
            </form>

            <!-- Botones de almacenamiento local -->
            <div class="almacenamiento-actions">
                <button onclick="guardarDatos()" class="btn-guardar">ðŸ’¾ Guardar Datos</button>
                <button onclick="cargarDatos()" class="btn-cargar">ðŸ“‚ Cargar Datos</button>
            </div>

            <div>
                <h3>Lista de Gastos:</h3>
                <div id="listaGastos"></div>
            </div>
        </div>
    </div>

    <!-- Plantilla para el componente mi-gasto -->
    <template id="template-mi-gasto">
        <!-- Los estilos ahora estÃ¡n en css/componente-gasto.css -->
        <div class="gasto-header">
            <span class="gasto-descripcion" id="descripcion"></span>
            <span class="gasto-valor" id="valor"></span>
        </div>
        
        <div class="gasto-fecha" id="fecha"></div>
        
        <div class="gasto-etiquetas" id="etiquetas"></div>
        
        <div class="gasto-actions">
            <button class="btn-editar" id="btnEditar">Editar</button>
            <button class="btn-borrar" id="btnBorrar">Borrar</button>
        </div>
        
        <form class="form-edicion hidden" id="formEdicion">
            <div class="form-group">
                <label for="editDescripcion">DescripciÃ³n:</label>
                <input type="text" id="editDescripcion" required>
            </div>
            
            <div class="form-group">
                <label for="editValor">Valor (â‚¬):</label>
                <input type="number" id="editValor" min="0" step="0.01" required>
            </div>
            
            <div class="form-group">
                <label for="editFecha">Fecha:</label>
                <input type="date" id="editFecha">
            </div>
            
            <div class="form-group">
                <label for="editEtiquetas">Etiquetas (separadas por comas):</label>
                <input type="text" id="editEtiquetas">
            </div>
            
            <div class="form-actions">
                <button type="submit" class="btn-guardar">Guardar</button>
                <button type="button" class="btn-cancelar" id="btnCancelar">Cancelar</button>
            </div>
        </form>
    </template>
    <!-- ImportaciÃ³n del mÃ³dulo JavaScript -->
    <script type="module" src="js/gestionPresupuestoWebV2.js"></script>
</body>
</html>